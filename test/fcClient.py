
import socket
import time
import binascii

BUF_SIZE = 1024
server_addr = ('jdrone.jd.com', 2002)
# server_addr = ('127.0.0.1', 9999)
client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client.connect(server_addr)

#0 心跳
#data = "fe090d01030004050100000000000d03510303778a"

#1 物理量
#data = "fe1f14010300040501012ffc60002f9c60002ffc60005b000000ffff000000000000000000000000ff92c1"

#30 资态数据
# data = "fe1c1e0103000405011ef34f00008ca48abc91c658bd56b4863fd0e2373a2e1006ba3a20abb84bf9"

#29 气压
#data = "fe0e130000000105011df34f0000c7897a44a4709d3cfa10eb3c"

#30 姿态数据
#data = "fe1c1e0000000105011ef34f00008ca48abc91c658bd56b4863fd0e2373a2e1006ba3a20abb84bf9"

#33 GPS
# data = "fe1c1b00000001010121f34f000000000000000000008002000080020000fbfff9ff2f008d17f003"

#21 舵机
# data = "fe151c00000001050124014f380146044604460446044604460400000000005a19fe151c01030004050124014f380146044604460446044604460400000000005a19fe151c01030004050124014f380146044604460446044604460400000000005a19"

#74 VEF
#data = "f114200103000405014a00000000000000000ad7233fd7a3f03e3c0000009992"

#24 GPS裸数据
data = "fe1e380000000400011800000000000000000000000000000000000000000f27ffff000000000000ccce"


datas = ["fe090d01030004050100000000000d03510303778a",
         "fe0e130000000105011df34f0000c7897a44a4709d3cfa10eb3c",
         "fe1c1e0000000105011ef34f00008ca48abc91c658bd56b4863fd0e2373a2e1006ba3a20abb84bf9",
         "fe1c1b00000001010121f34f000000000000000000008002000080020000fbfff9ff2f008d17f003",
         "fe151c00000001050124014f380146044604460446044604460400000000005a19fe151c01030004050124014f380146044604460446044604460400000000005a19fe151c01030004050124014f380146044604460446044604460400000000005a19",
         "fe1f14010300040501012ffc60002f9c60002ffc60005b000000ffff000000000000000000000000ff92c1",
         "f114200103000405014a00000000000000000ad7233fd7a3f03e3c0000009992",
         "fe3c0000000002000194830B0000000000000000000000000000ff03030300000000000000000000000000000000616366326531306333346531643534333763356566383833471C",
         "fe1c1e0103000405011ef34f00008ca48abc91c658bd56b4863fd0e2373a2e1006ba3a20abb84bf9",
         "fa14200103000405014a00000000000000000ad7233fd7a3f03e3c0000009992",
         "fb14200103000405014a00000000000000000ad7233fd7a3f03e3c0000009992",
         "fc14200103000405014a00000000000000000ad7233fd7a3f03e3c0000009992",
         "fd14200103000405014a00000000000000000ad7233fd7a3f03e3c0000009992",
         "fe14200103000405014a00000000000000000ad7233fd7a3f03e3c0000009992",
         "ff14200103000405014a00000000000000000ad7233fd7a3f03e3c0000009992"]


#data = "FE 09 2A 00 01 00 01 01 01 00 00 00 00 00 0D 03 51 03 03 36 0A".replace(" ","")

#data = "fe3c0000000002000194830B0000000000000000000000000000ff03030300000000000000000000000000000000616366326531306333346531643534333763356566383833471C"

data = "FE8295000202010000010BFF1400780D00000000FFFF04000000000000000000D50376FEC200A6FDD4FEFA00D5FD80C816BCC4DE8B3C924CBA3F0000760002005A000000020000004C044C044C044C044C044C044C044C049804F401FE019800F501AB00AB00F401F4010C00470000000000000000000000340900000000000000000000000000000000000023D6"
counter = 0

for i in range(100000):
    # sendData = binascii.a2b_hex(data)
    # print binascii.b2a_hex(sendData[29])

    client.send( binascii.a2b_hex(data))

    counter += 1
    print 'has send data'

    # fcData = client.recv(1024)
    # print "fc receive data: ", binascii.b2a_hex(fcData)

    #client.send(binascii.a2b_hex("f114200103000405014a00000000000000000ad7233fd7a3f03e3c0000009992"))
    #
    # #print "send ok"
    # data = "f13c0000000001000194830B0000000000000000000000000000ff03030300000000000000000000000000000000616366326531306333346531643534333763356566383833471C"

    time.sleep(1)

client.recv(100)

